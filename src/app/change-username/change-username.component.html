<div *ngIf="!submitSuccess" class="simple-form-aligner">
    <mat-card class="simple-form-card-profile">
      <mat-card-title>Change Username </mat-card-title>
      <mat-card-subtitle>Enter your new Username.
      </mat-card-subtitle>
      <mat-card-content>
        <form [formGroup]="form" (ngSubmit)="submit(form.value)">
          <div class="form-group">
            <mat-form-field class="simple-form-field-100">
              <input matInput placeholder="New Username" name="username" formControlName="username">
            </mat-form-field>
            <br>
            <button 
                [disabled]="waiting"
                class="simple-form-button" 
                color="primary" 
                mat-raised-button 
                type="submit" 
                value="submit">
              Change Username
            </button>
            <mat-progress-spinner
                *ngIf="waiting"
                color="primary"
                mode="indeterminate"
                class="simple-form-spinner"
                [diameter]=22>
            </mat-progress-spinner>
            <span 
                *ngIf='formErrorMessage' 
                class="text-error-color">
              {{formErrorMessage}}
            </span>
          </div>
          </form>
      </mat-card-content>
    </mat-card>
  </div>
  <div *ngIf="submitSuccess" class="simple-form-aligner">
    <mat-card class="simple-form-card">
      <mat-card-title>Change Username</mat-card-title>
      <mat-card-content>Your Username has been updated.
        <a routerLink="/home">
          Go to the home page.
        </a>
      </mat-card-content>
    </mat-card>
  </div>